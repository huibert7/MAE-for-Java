import java.awt.*;import java.awt.image.*;import java.applet.*;import java.util.*;public class NewButton extends Control{	private	static	Color	backGray = new Color(206,206,206);	private	static	Color	lightGray = new Color(239,239,239);	private	static	Color	darkGray = new Color(140,140,140);	private static	Font	helvFont = new Font("Helvetica", Font.BOLD, 12);	private			int		TitleWidth, TitleHeight;		public NewButton()	{		super();	}		protected void SetSize()	{		FontMetrics	fm;		int			minWidth,minHeight;				theWindow.graphicsPortGC.setFont(helvFont);		fm = theWindow.graphicsPortGC.getFontMetrics(theWindow.graphicsPortGC.getFont());		TitleWidth = fm.stringWidth(Title);		minWidth = TitleWidth + 14;		TitleHeight = fm.getMaxAscent() + fm.getMaxDescent();		minHeight = TitleHeight + 8;		if (width < minWidth) width = minWidth;		if (height < minHeight) height = minHeight;	}		protected void DrawIt()	{		FontMetrics	fm;				theWindow.graphicsPortGC.setColor(backGray);		theWindow.graphicsPortGC.fillRoundRect(xPos,yPos,width,height,5,5);		theWindow.graphicsPortGC.setColor(Color.black);		theWindow.graphicsPortGC.drawRoundRect(xPos,yPos,width,height,5,5);		theWindow.graphicsPortGC.setColor(lightGray);		theWindow.graphicsPortGC.drawLine(xPos+2,yPos+2,xPos+width-3,yPos+2);		theWindow.graphicsPortGC.drawLine(xPos+2,yPos+3,xPos+2,yPos+height-3);		theWindow.graphicsPortGC.setColor(darkGray);		theWindow.graphicsPortGC.drawLine(xPos+width-3,yPos+3,xPos+width-3,yPos+height-3);		theWindow.graphicsPortGC.drawLine(xPos+3,yPos+height-3,xPos+width-4,yPos+height-3);		theWindow.graphicsPortGC.drawLine(xPos+width-2,yPos+2,xPos+width-2,yPos+height-2);		theWindow.graphicsPortGC.drawLine(xPos+2,yPos+height-2,xPos+width-3,yPos+height-2);		if (hiliteState == 255) theWindow.graphicsPortGC.setColor(Color.black);		else theWindow.graphicsPortGC.setColor(Color.gray);		theWindow.graphicsPortGC.setFont(helvFont);		fm = theWindow.graphicsPortGC.getFontMetrics(theWindow.graphicsPortGC.getFont());		theWindow.graphicsPortGC.drawString(Title, xPos+(width-TitleWidth)/2, yPos+height-1-fm.getMaxDescent()-(height-TitleHeight)/2);	}		public int TrackControl(Point location)	{		int		x,y;		boolean	pushed;				pushed = false;				do		{			x = location.x;			y = location.y;			if (x >= xPos & x < xPos+width & y >= yPos & y < yPos+height)			{				if (!pushed)				{					push();					pushed = true;				}			}			else			{				if (pushed)				{					pull();					pushed = false;				}			} 			location.x = theWindow.AFC.xMousePos;			location.y = theWindow.AFC.yMousePos;			location = theWindow.GlobalToLocal(location);		}		while (!theWindow.AFC.WaitMouseUp());				if (pushed)		{			pull();			return 10;		}		else return 0;	}	public void push()	{		theWindow.graphicsPortGC.copyArea(xPos+3,yPos+3,width-7,height-7,1,1);		theWindow.graphicsPortGC.setColor(darkGray);		theWindow.graphicsPortGC.drawLine(xPos+1,yPos+1,xPos+width-2,yPos+1);		theWindow.graphicsPortGC.drawLine(xPos+1,yPos+2,xPos+1,yPos+height-2);		theWindow.graphicsPortGC.drawLine(xPos+2,yPos+2,xPos+width-3,yPos+2);		theWindow.graphicsPortGC.drawLine(xPos+2,yPos+3,xPos+2,yPos+height-3);		theWindow.graphicsPortGC.setColor(lightGray);		theWindow.graphicsPortGC.drawLine(xPos+2,yPos+height-2,xPos+width-2,yPos+height-2);		theWindow.graphicsPortGC.drawLine(xPos+width-2,yPos+2,xPos+width-2,yPos+height-2);		theWindow.graphicsPortGC.setColor(backGray);		theWindow.graphicsPortGC.drawLine(xPos+3,yPos+height-3,xPos+4,yPos+height-3);		theWindow.graphicsPortGC.drawLine(xPos+width-3,yPos+3,xPos+width-4,yPos+3);				theWindow.UpdateGraphicsPort();	}	public void pull()	{		theWindow.graphicsPortGC.copyArea(xPos+4,yPos+4,width-7,height-7,-1,-1);		theWindow.graphicsPortGC.setColor(lightGray);		theWindow.graphicsPortGC.drawLine(xPos+2,yPos+2,xPos+width-3,yPos+2);		theWindow.graphicsPortGC.drawLine(xPos+2,yPos+3,xPos+2,yPos+height-3);		theWindow.graphicsPortGC.setColor(darkGray);		theWindow.graphicsPortGC.drawLine(xPos+width-3,yPos+3,xPos+width-3,yPos+height-3);		theWindow.graphicsPortGC.drawLine(xPos+3,yPos+height-3,xPos+width-4,yPos+height-3);		theWindow.graphicsPortGC.drawLine(xPos+width-2,yPos+2,xPos+width-2,yPos+height-2);		theWindow.graphicsPortGC.drawLine(xPos+2,yPos+height-2,xPos+width-3,yPos+height-2);				theWindow.UpdateGraphicsPort();	}}	